{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T17:38:55.700Z"}
{"errorLabelSet":{},"level":"error","message":"MongoDB connection error: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":45224011,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (F:\\repos\\BE_AKRAM\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (F:\\repos\\BE_AKRAM\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at connectDB (F:\\repos\\BE_AKRAM\\src\\config\\db.ts:7:5)","timestamp":"2025-04-27T17:39:25.696Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T17:46:19.586Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T17:46:22.405Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T17:48:04.828Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T17:48:07.763Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T17:48:08.430Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T17:48:10.262Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T17:48:11.290Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T17:48:12.956Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T18:05:50.144Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T18:05:52.789Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T18:07:03.978Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T18:07:06.805Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T18:07:08.536Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T18:07:29.576Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T18:07:31.377Z"}
{"level":"info","message":"Daily discount email job scheduled for 12:00 PM","timestamp":"2025-04-27T18:32:58.219Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T18:32:58.236Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T18:33:00.226Z"}
{"level":"info","message":"Daily discount email job scheduled for 12:00 PM","timestamp":"2025-04-27T18:33:13.837Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T18:33:13.855Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T18:33:15.548Z"}
{"level":"info","message":"Daily discount email job scheduled for 12:00 PM","timestamp":"2025-04-27T18:33:16.787Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T18:33:16.804Z"}
{"level":"info","message":"Daily discount email job scheduled for 12:00 PM","timestamp":"2025-04-27T18:33:17.339Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T18:33:17.356Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T18:33:18.970Z"}
{"level":"info","message":"Daily discount email job scheduled for 12:00 PM","timestamp":"2025-04-27T19:11:58.426Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T19:11:58.444Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T19:12:00.723Z"}
{"level":"info","message":"Daily discount email job scheduled for 12:00 PM","timestamp":"2025-04-27T20:37:18.271Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T20:37:18.287Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T20:37:20.261Z"}
{"level":"info","message":"Daily discount email job scheduled for 12:00 PM","timestamp":"2025-04-27T20:42:07.495Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T20:42:07.512Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T20:42:09.638Z"}
{"level":"info","message":"Daily discount email job scheduled for 12:00 PM","timestamp":"2025-04-27T20:42:14.310Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T20:42:14.329Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T20:42:16.009Z"}
{"level":"info","message":"Daily discount email job scheduled for 12:00 PM","timestamp":"2025-04-27T20:54:18.771Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T20:54:18.789Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T20:54:21.150Z"}
{"address":"127.0.0.1","code":"ESOCKET","command":"CONN","errno":-4078,"level":"error","message":"Error sending email: connect ECONNREFUSED 127.0.0.1:587","port":587,"stack":"Error: connect ECONNREFUSED 127.0.0.1:587\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1636:16)","syscall":"connect","timestamp":"2025-04-27T20:54:23.157Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T21:06:54.050Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T21:06:56.007Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T21:08:24.473Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T21:08:26.562Z"}
{"level":"info","message":"Email sent: <8f9b7b88-a87d-bba2-6854-b33a2d05a6b9@gmail.com>","timestamp":"2025-04-27T21:08:55.964Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T21:09:47.912Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T21:09:50.235Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T21:15:36.775Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T21:15:39.217Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T21:17:15.641Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T21:17:17.529Z"}
{"level":"error","message":"Error creating order: Cannot read properties of undefined (reading 'toFixed')","stack":"TypeError: Cannot read properties of undefined (reading 'toFixed')\n    at OrderService.generateOrderConfirmationEmailTemplate (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:149:83)\n    at OrderService.sendOrderConfirmationEmail (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:96:23)\n    at OrderService.createOrder (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:29:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at createOrder (F:\\repos\\BE_AKRAM\\src\\controllers\\orderController.ts:29:19)","timestamp":"2025-04-27T21:17:26.533Z"}
{"level":"error","message":"Error creating order: Cannot read properties of undefined (reading 'toFixed')","stack":"TypeError: Cannot read properties of undefined (reading 'toFixed')\n    at OrderService.generateOrderConfirmationEmailTemplate (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:149:83)\n    at OrderService.sendOrderConfirmationEmail (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:96:23)\n    at OrderService.createOrder (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:29:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at createOrder (F:\\repos\\BE_AKRAM\\src\\controllers\\orderController.ts:29:19)","timestamp":"2025-04-27T21:17:26.534Z"}
{"level":"error","message":"Error creating order: Cannot read properties of undefined (reading 'toFixed')","stack":"TypeError: Cannot read properties of undefined (reading 'toFixed')\n    at OrderService.generateOrderConfirmationEmailTemplate (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:149:83)\n    at OrderService.sendOrderConfirmationEmail (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:96:23)\n    at OrderService.createOrder (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:29:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at createOrder (F:\\repos\\BE_AKRAM\\src\\controllers\\orderController.ts:29:19)","timestamp":"2025-04-27T21:17:39.578Z"}
{"level":"error","message":"Error creating order: Cannot read properties of undefined (reading 'toFixed')","stack":"TypeError: Cannot read properties of undefined (reading 'toFixed')\n    at OrderService.generateOrderConfirmationEmailTemplate (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:149:83)\n    at OrderService.sendOrderConfirmationEmail (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:96:23)\n    at OrderService.createOrder (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:29:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at createOrder (F:\\repos\\BE_AKRAM\\src\\controllers\\orderController.ts:29:19)","timestamp":"2025-04-27T21:17:39.579Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T21:17:49.012Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T21:17:50.638Z"}
{"level":"error","message":"Error creating order: Cannot read properties of undefined (reading 'toFixed')","stack":"TypeError: Cannot read properties of undefined (reading 'toFixed')\n    at OrderService.generateOrderConfirmationEmailTemplate (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:149:83)\n    at OrderService.sendOrderConfirmationEmail (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:96:23)\n    at OrderService.createOrder (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:29:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at createOrder (F:\\repos\\BE_AKRAM\\src\\controllers\\orderController.ts:29:19)","timestamp":"2025-04-27T21:17:54.056Z"}
{"level":"error","message":"Error creating order: Cannot read properties of undefined (reading 'toFixed')","stack":"TypeError: Cannot read properties of undefined (reading 'toFixed')\n    at OrderService.generateOrderConfirmationEmailTemplate (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:149:83)\n    at OrderService.sendOrderConfirmationEmail (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:96:23)\n    at OrderService.createOrder (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:29:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at createOrder (F:\\repos\\BE_AKRAM\\src\\controllers\\orderController.ts:29:19)","timestamp":"2025-04-27T21:17:54.056Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T21:18:50.574Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T21:18:52.690Z"}
{"level":"error","message":"Error creating order: Cannot read properties of undefined (reading 'toFixed')","stack":"TypeError: Cannot read properties of undefined (reading 'toFixed')\n    at OrderService.generateOrderConfirmationEmailTemplate (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:149:83)\n    at OrderService.sendOrderConfirmationEmail (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:96:23)\n    at OrderService.createOrder (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:29:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at createOrder (F:\\repos\\BE_AKRAM\\src\\controllers\\orderController.ts:29:19)","timestamp":"2025-04-27T21:18:54.074Z"}
{"level":"error","message":"Error creating order: Cannot read properties of undefined (reading 'toFixed')","stack":"TypeError: Cannot read properties of undefined (reading 'toFixed')\n    at OrderService.generateOrderConfirmationEmailTemplate (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:149:83)\n    at OrderService.sendOrderConfirmationEmail (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:96:23)\n    at OrderService.createOrder (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:29:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at createOrder (F:\\repos\\BE_AKRAM\\src\\controllers\\orderController.ts:29:19)","timestamp":"2025-04-27T21:18:54.074Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T21:19:10.398Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T21:19:12.148Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T21:22:18.298Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T21:22:20.255Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T21:22:23.649Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T21:22:25.293Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T21:22:42.004Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T21:22:43.654Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T21:24:06.043Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T21:24:08.097Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T21:24:13.217Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T21:24:14.866Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T21:24:23.934Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T21:24:25.567Z"}
{"level":"error","message":"Error creating order: order.subtotal.toFixed is not a function","stack":"TypeError: order.subtotal.toFixed is not a function\n    at OrderService.generateOrderConfirmationEmailTemplate (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:150:83)\n    at OrderService.sendOrderConfirmationEmail (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:96:23)\n    at OrderService.createOrder (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:29:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at createOrder (F:\\repos\\BE_AKRAM\\src\\controllers\\orderController.ts:29:19)","timestamp":"2025-04-27T21:24:27.188Z"}
{"level":"error","message":"Error creating order: order.subtotal.toFixed is not a function","stack":"TypeError: order.subtotal.toFixed is not a function\n    at OrderService.generateOrderConfirmationEmailTemplate (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:150:83)\n    at OrderService.sendOrderConfirmationEmail (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:96:23)\n    at OrderService.createOrder (F:\\repos\\BE_AKRAM\\src\\services\\orderService.ts:29:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at createOrder (F:\\repos\\BE_AKRAM\\src\\controllers\\orderController.ts:29:19)","timestamp":"2025-04-27T21:24:27.188Z"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-04-27T21:27:16.101Z"}
{"level":"info","message":"MongoDB connected successfully","timestamp":"2025-04-27T21:27:17.987Z"}
